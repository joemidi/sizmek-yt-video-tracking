<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>YouTube Video</title>
    <link rel="stylesheet" href="styles/style.css" />
    <script src="scripts/EBLoader.js"></script>
</head>

<body>
    <div id="yt-video-container">
        <!-- <div id="yt-video"></div> -->
        <iframe id="yt-video" type="text/html" width="970" height="250" src="http://www.youtube.com/embed/MmJ_eIWVuM0?enablejsapi=1" frameborder="0"></iframe>
    </div>
    <script type="text/javascript">
    function initEB() {
        if (!EB.isInitialized()) {
            EB.addEventListener(EBG.EventName.EB_INITIALIZED, politeInit);
        } else {
            politeInit();
        }
    }
    // lazyload script
    // ref: http://www.nczonline.net/blog/2009/07/28/the-best-way-to-load-external-javascript/
    function loadScript(url, callback){
        var script = document.createElement("script")
        script.type = "text/javascript";

        if (script.readyState){  //IE
            script.onreadystatechange = function(){
                if (script.readyState == "loaded" || script.readyState == "complete"){
                    script.onreadystatechange = null;
                    callback();
                }
            };
        } else {  //Others
            script.onload = function(){
                callback();
            };
        }
        script.src = url;
        document.getElementsByTagName("head")[0].appendChild(script);
    }

    //Thanks to Jack @ Greensock for this sweet loader https://greensock.com/
    function politeLoad(urls, onComplete) {
        var l = urls.length,
            loaded = 0,
            checkProgress = function() {
                if (++loaded === l && onComplete) {
                    onComplete();
                }
            },
            i;
        for (i = 0; i < l; i++) {
            //Using the lazy loadScript to load the javascript
            loadScript(urls[i], checkProgress);
        }
    }
    //now you can just feed stuff into that one function and give it a callback...
    function politeInit(){
        politeLoad(['scripts/script.js','https://www.youtube.com/iframe_api'], function() {
            if (typeof Banner.overlay.init == 'function') { 
                Banner.overlay.init();
            }
        });
    }
    var player;
    var Banner = Banner || {};
        Banner.overlay = {
            video:{
                apiReady: false
            }
        }
    function onYouTubeIframeAPIReady() {
        Banner.overlay.video.apiReady = true;
        if (typeof Banner.overlay.init == 'function') { 
          Banner.overlay.init(); 
        }
    }

    window.addEventListener("load", initEB);
</script>
</body>
</html>